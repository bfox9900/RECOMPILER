\ NESTTEST.FTH  test nested calls on METAFORTH compiler  Sept 2023 Fox 

INCLUDE DSK7.ITC-SYSTEM 

TARGET ALSO FORTH 
IMPORT: DUP DROP 1- 

COMPILER HEX 

TARGET
CODE BYE    0 LIMI, 0 @@ BLWP, ENDCODE 

 : SUB3  BEEF ;
 : SUB2  SUB3 ;
 : SUB1  SUB2 ;

: MAIN  
    4000 
    BEGIN  
      1- DUP 
    WHILE    
      SUB1  DROP 
    REPEAT
    DROP 
    BYE 
;
\ PROGRAM ENDS 

COMPILER 
T' MAIN  BOOT T!   \ set the boot variable 
SAVE DSK7.NESTTEST
